!function(e,r){"function"==typeof define&&define.amd?define(function(){return r()}):"object"==typeof module&&module.exports?module.exports=r():e.JSCC=r()}("undefined"!=typeof window?window:"undefined"!=typeof self?self:"undefined"!=typeof global?global:this,function(){function A(e){console.log("JS/CC loaded/finished! "+(null!=e?"number"==typeof e?0<e?"number of ERRORs "+e:"":"ERROR "+e:""))}var r=[],t=[];function n(e){s&&console.error("JS/CC ERROR: "+e)}function a(e){p&&console.warn("JS/CC WARNING: "+e)}function o(e){console.log("JS/CC INFO: "+e)}function l(e){console.log("JS/CC ALERT: "+e)}var v,_,w,C,m,S,E,u,s,y,p,b,k,R,c,L,h,T,x=o,P=l,d=n,f=a,I=function(e){++u,r.push(e),d(e)},g=function(e){++y,t.push(e),f(e)},N="0.30",O=0,j=1,M=0,F=1,J=2,W=0,D=1,G=2,H=3,U="%% = %1;",B=0,Y=1,$=2,q=0,V=0,X=255,z=0,K=1,Q=2;function Z(){}function ee(){}function re(){}function te(){}function ne(){}function ae(){}function oe(){}function le(e,r,t){var n,a;if(0!=t.length){for(e==$?(x('<table class="debug" cellpadding="0" cellspacing="0">'),x("<tr>"),x('<td class="tabtitle" colspan="2">'+r+"</td>"),x("</tr>"),x("<tr>"),x('<td class="coltitle" width="35%">Lookahead</td>'),x('<td class="coltitle" width="65%">Production</td>'),x("</tr>")):e==B&&x("--- "+r+" ---"),n=0;n<t.length;n++)if(e==$){for(x("<tr>"),x("<td>"),a=0;a<t[n].lookahead.length;a++)x(" <b>"+v[t[n].lookahead[a]].label+"</b> ");for(x("</td>"),x("<td>"),x(v[_[t[n].prod].lhs].label+" -&gt; "),a=0;a<_[t[n].prod].rhs.length;a++)a==t[n].dot_offset&&x("."),v[_[t[n].prod].rhs[a]].kind==j?x(" <b>"+v[_[t[n].prod].rhs[a]].label+"</b> "):x(" "+v[_[t[n].prod].rhs[a]].label+" ");a==t[n].dot_offset&&x("."),x("</td>"),x("</tr>")}else if(e==B){var o=new String;for(a=(o+=v[_[t[n].prod].lhs].label).length;a<20;a++)o+=" ";for(o+=" -> ",a=0;a<_[t[n].prod].rhs.length;a++)a==t[n].dot_offset&&(o+="."),v[_[t[n].prod].rhs[a]].kind==j?o+=" #"+v[_[t[n].prod].rhs[a]].label+" ":o+=" "+v[_[t[n].prod].rhs[a]].label+" ";for(a==t[n].dot_offset&&(o+="."),a=o.length;a<60;a++)o+=" ";for(o+="{ ",a=0;a<t[n].lookahead.length;a++)o+="#"+v[t[n].lookahead[a]].label+" ";x(o+="}")}e==$&&x("</table>")}}function se(){var e,r=0,t=0;do{t=r;for(var n=r=0;n<v.length;n++)if(v[n].kind==O)for(var a=0;a<v[n].prods.length;a++){e=!1;for(var o=0;o<_[v[n].prods[a]].rhs.length&&(v[n].first=Pe(v[n].first,v[_[v[n].prods[a]].rhs[o]].first),e=v[_[v[n].prods[a]].rhs[o]].nullable);o++);r+=v[n].first.length,o==_[v[n].prods[a]].rhs.length&&(e=!0),v[n].nullable|=e}}while(r!=t)}function ce(e,r,t){var n,a=!0;for(n=t;n<r.rhs.length&&(e.lookahead=Pe(e.lookahead,v[r.rhs[n]].first),v[r.rhs[n]].nullable||(a=!1),a);n++);return a}function he(e){var r,t,n,a=new String,o=0;for(e==$?(a+='<table class="print" cellpadding="0" cellspacing="0">',a+="<tr>",a+='<td class="tabtitle" colspan="2">Pop-Table</td>',a+="</tr>",a+='<td class="coltitle" width="1%" style="border-right: 1px solid lightgray;">Left-hand side</td>',a+='<td class="coltitle">Number of symbols to pop</td>',a+="</tr>"):e==Y&&(a+="/* Pop-Table */\n",a+="var pop_tab = new Array(\n"),r=0;r<_.length;r++)e==$?(a+="<tr>",a+='<td style="border-right: 1px solid lightgray;">'+_[r].lhs+"</td>",a+="<td>"+_[r].rhs.length+"</td>",a+="</tr>"):e==Y&&(a+="\tnew Array( "+_[r].lhs+"/* "+v[_[r].lhs].label+" */, "+_[r].rhs.length+" )"+(r<_.length-1?",\n":"\n"));if(e==$?a+="</table>":e==Y&&(a+=");\n\n"),e==$){for(r=0;r<v.length;r++)v[r].kind==j&&o++;for(a+='<table class="print" cellpadding="0" cellspacing="0">',a+="<tr>",a+='<td class="tabtitle" colspan="'+(o+1)+'">Action-Table</td>',a+="</tr>",a+='<td class="coltitle" width="1%" style="border-right: 1px solid lightgray;">State</td>',r=0;r<v.length;r++)v[r].kind==j&&(a+="<td><b>"+v[r].label+"</b></td>");for(a+="</tr>",r=0;r<w.length;r++){for(a+="<tr>",a+='<td class="coltitle" style="border-right: 1px solid lightgray;">'+r+"</td>",t=0;t<v.length;t++)v[t].kind==j&&(a+="<td>",null!=(n=ve(w[r].actionrow,t))&&(a+=n<=0?"r"+-1*n:"s"+n),a+="</td>");a+="</tr>"}a+="</table>"}else if(e==Y){for(a+="/* Action-Table */\n",a+="var act_tab = new Array(\n",r=0;r<w.length;r++){for(a+="\t/* State "+r+" */ new Array( ",t=0;t<w[r].actionrow.length;t++)a+=w[r].actionrow[t][0]+'/* "'+v[w[r].actionrow[t][0]].label+'" */,'+w[r].actionrow[t][1]+(t<w[r].actionrow.length-1?" , ":"");a+=" )"+(r<w.length-1?",\n":"\n")}a+=");\n\n"}if(e==$){for(r=0;r<v.length;r++)v[r].kind==O&&o++;for(a+='<table class="print" cellpadding="0" cellspacing="0">',a+="<tr>",a+='<td class="tabtitle" colspan="'+(o+1)+'">Goto-Table</td>',a+="</tr>",a+='<td class="coltitle" width="1%" style="border-right: 1px solid lightgray;">State</td>',r=0;r<v.length;r++)v[r].kind==O&&(a+="<td>"+v[r].label+"</td>");for(a+="</tr>",r=0;r<w.length;r++){for(a+="<tr>",a+='<td class="coltitle" style="border-right: 1px solid lightgray;">'+r+"</td>",t=0;t<v.length;t++)v[t].kind==O&&(a+="<td>",null!=(n=ve(w[r].gotorow,t))&&(a+=n),a+="</td>");a+="</tr>"}a+="</table>"}else if(e==Y){for(a+="/* Goto-Table */\n",a+="var goto_tab = new Array(\n",r=0;r<w.length;r++){for(a+="\t/* State "+r+" */",a+=" new Array( ",t=0;t<w[r].gotorow.length;t++)a+=w[r].gotorow[t][0]+"/* "+v[w[r].gotorow[t][0]].label+" */,"+w[r].gotorow[t][1]+(t<w[r].gotorow.length-1?" , ":"");a+=" )"+(r<w.length-1?",\n":"\n")}a+=");\n\n"}return a}function ie(e){var r,t,n,a,o,l,s=new String;for(s+="switch( state )\n",s+="{\n",r=0;r<e.length;r++){for(s+="\tcase "+r+":\n",l=!0,t=0;t<e.length;t++){for(a=-1,o=!0,n=0;n<e[r].line.length+1;n++)n<e[r].line.length&&e[r].line[n]==t?-1==a&&(a=n):-1<a&&(o?(s+="\t\t",l||(s+="else "),s+="if( ",l=o=!1):s+=" || ",s+=a==n-1?"info.src.charCodeAt( pos ) == "+a:"( info.src.charCodeAt( pos ) >= "+a+" && info.src.charCodeAt( pos ) <= "+(n-1)+" )",a=-1,n--);o||(s+=" ) state = "+t+";\n")}s+="\t\t",l||(s+="else "),s+="state = -1;\n",-1<e[r].accept&&(s+="\t\tmatch = "+e[r].accept+";\n",s+="\t\tmatch_pos = pos;\n"),s+="\t\tbreak;\n\n"}return s+="}\n\n"}function de(){var e,r=new String;for(r+="/* Symbol labels */\n",r+="var labels = new Array(\n",e=0;e<v.length;e++)r+='\t"'+v[e].label+'" ',v[e].kind==j?r+="/* Terminal symbol */":r+="/* Non-terminal symbol */",e<v.length-1&&(r+=","),r+="\n";return r+=");\n\n"}function fe(){var e,r,t,n,a=new String,o=new RegExp("%match|%offset|%source"),l=0;for(a+="switch( match )\n",a+="{\n",e=0;e<v.length;e++)if(v[e].kind==j&&""!=v[e].code){for(a+="\tcase "+e+":\n",a+="\t\t{\n",t=new String,r=0;r<v[e].code.length;r++,0)(n=o.exec(v[e].code.substr(r,v[e].code.length)))&&0==n.index?("%match"==n[0]?t+="info.att":"%offset"==n[0]?t+="( info.offset - info.att.length )":"%source"==n[0]&&(t+="info.src"),r+=n[0].length-1,t.length):t+=v[e].code.charAt(r);a+="\t\t"+t+"\n",a+="\t\t}\n",a+="\t\tbreak;\n\n",l++}return a+="}\n\n",0==l?new String:a}function ge(){var e,r,t,n,a,o=new String,l=new RegExp("%[0-9]+|%%");for(o+="switch( act )\n",o+="{\n",t=0;t<_.length;t++){for(o+="\tcase "+t+":\n",o+="\t{\n",e=new String,n=0;n<_[t].code.length;n++,0)(r=l.exec(_[t].code.substr(n,_[t].code.length)))&&0==r.index?("%%"==r[0]?e+="rval":(a=parseInt(r[0].substr(1,r[0].length)),e+="vstack[ vstack.length - "+(a=_[t].rhs.length-a+1)+" ]"),n+=r[0].length-1,e.length):e+=_[t].code.charAt(n);o+="\t\t"+e+"\n",o+="\t}\n",o+="\tbreak;\n"}return o+="}\n\n"}function Ae(){for(var e=-1,r=0;r<v.length;r++)if(v[r].special==F){e=r;break}return-1==e&&I("No EOF-symbol defined - This might not be possible (bug!)"),e}function we(){return w.length+1}function ue(){return m}function ye(){var e=new te;return e.kernel=new Array,e.epsilon=new Array,e.actionrow=new Array,e.gotorow=new Array,e.done=!1,e.closed=!1,w.push(e),e}function pe(e){var r=new re;return r.prod=e,r.dot_offset=0,r.lookahead=new Array,r}function be(e,r,t){var n;for(n=0;n<e.length;n++)if(e[n][0]==r)return e;return e.push(new Array(r,t)),e}function Ce(e,r,t){var n;for(n=0;n<e.length;n++)if(e[n][0]==r)return e[n][1]=t,e;return e}function ke(e,r){var t;for(t=0;t<e.length;t++)if(e[t][0]==r)return e.splice(t,1),e;return e}function ve(e,r){var t;for(t=0;t<e.length;t++)if(e[t][0]==r)return e[t][1]}function _e(){for(var e=0;e<w.length;e++)if(0==w[e].done)return e;return-1}function me(e,r,t){t=t||M;for(var n=0;n<v.length;n++)if(v[n].label.toString()==e.toString()&&v[n].kind==r&&v[n].special==t)return n;return-1}function Se(e,r,t){var n;if(-1<(n=me(e,r,t)))return v[n].id;var a=new Z;return a.label=e,a.kind=r,a.prods=new Array,a.nullable=!1,a.id=v.length,a.code=new String,a.assoc=W,a.level=0,a.special=t,a.defined=!1,a.first=new Array,r==j&&a.first.push(a.id),v.push(a),a.id}function Ee(e,r){var t,n,a=0;if(e.length!=r.length)return!1;for(t=0;t<e.length;t++)for(n=0;n<r.length;n++)if(e[t].prod==r[n].prod&&e[t].dot_offset==r[n].dot_offset){a++;break}return a==e.length}function Re(e,r){var t,n,a,o,l=0,s=0;for(t=0;t<e.length;t++)if(e[t].dot_offset<_[e[t].prod].rhs.length&&v[_[e[t].prod].rhs[e[t].dot_offset]].kind==O)for(n=0;n<v[_[e[t].prod].rhs[e[t].dot_offset]].prods.length;n++){for(a=0;a<r.length&&r[a].prod!=v[_[e[t].prod].rhs[e[t].dot_offset]].prods[n];a++);a==r.length&&(o=pe(v[_[e[t].prod].rhs[e[t].dot_offset]].prods[n]),r.push(o),l++),s=r[a].lookahead.length,ce(r[a],_[e[t].prod],e[t].dot_offset+1)&&(r[a].lookahead=Pe(r[a].lookahead,e[t].lookahead)),l+=r[a].lookahead.length-s}return l}function Le(e){for(var r,t,n,a,o,l,s=new Array,c=0,h=0;(c=Re(0==(h=c)?w[e].kernel:s,s))!=h;);for(a=0;a<w[e].kernel.length;a++)if(w[e].kernel[a].dot_offset<_[w[e].kernel[a].prod].rhs.length)for(s.unshift(new re),s[0].prod=w[e].kernel[a].prod,s[0].dot_offset=w[e].kernel[a].dot_offset,s[0].lookahead=new Array,o=0;o<w[e].kernel[a].lookahead.length;o++)s[0].lookahead[o]=w[e].kernel[a].lookahead[o];for(a=0;a<s.length;a++)if(0==_[s[a].prod].rhs.length){for(o=0;o<w[e].epsilon.length&&(w[e].epsilon[o].prod!=s[a].prod||w[e].epsilon[o].dot_offset!=s[a].dot_offset);o++);o==w[e].epsilon.length&&w[e].epsilon.push(s[a]),s.splice(a,1)}for(;0<s.length;){for(t=new Array,r=new Array,n=-1,a=0;a<s.length;a++)0==t.length&&(n=_[s[a].prod].rhs[s[a].dot_offset]),s[a].dot_offset<_[s[a].prod].rhs.length&&(_[s[a].prod].rhs[s[a].dot_offset]==n?(s[a].dot_offset++,t.push(s[a])):r.push(s[a]));if(0<t.length){for(a=0;a<w.length&&!Ee(w[a].kernel,t);a++);for(a==w.length&&(ye().kernel=t),o=c=l=0;o<t.length;o++)l+=w[a].kernel[o].lookahead.length,w[a].kernel[o].lookahead=Pe(w[a].kernel[o].lookahead,t[o].lookahead),c+=w[a].kernel[o].lookahead.length;if(l!=c&&(w[a].done=!1),!w[e].closed)for(o=0;o<t.length;o++)t[o].dot_offset-1<_[t[o].prod].rhs.length&&(v[_[t[o].prod].rhs[t[o].dot_offset-1]].kind==j?(w[e].actionrow=be(w[e].actionrow,_[t[o].prod].rhs[t[o].dot_offset-1],a),b++):(w[e].gotorow=be(w[e].gotorow,_[t[o].prod].rhs[t[o].dot_offset-1],a),R++))}s=r}w[e].closed=!0}function Te(e,r){var t,n,a,o,l;for(t=0;t<e.length;t++)if(e[t].dot_offset==_[e[t].prod].rhs.length)for(n=0;n<e[t].lookahead.length;n++)if(l=!0,null==(o=a=ve(w[r].actionrow,e[t].lookahead[n])))w[r].actionrow=be(w[r].actionrow,e[t].lookahead[n],-1*e[t].prod),k++;else{var s=new String;s=0<a?((0<v[e[t].lookahead[n]].level||0<_[e[t].prod].level)&&(v[e[t].lookahead[n]].level==_[e[t].prod].level?v[e[t].lookahead[n]].assoc==D?o=-1*e[t].prod:v[e[t].lookahead[n]].assoc==H&&(ke(w[r].actionrow,e[t].lookahead[n]),g("Removing nonassociative symbol '"+v[e[t].lookahead[n]].label+"' in state "+r),l=!1):v[e[t].lookahead[n]].level<_[e[t].prod].level&&(o=-1*e[t].prod)),"Shift"):(o=-1*o<e[t].prod?o:-1*e[t].prod,"Reduce"),s+="-reduce conflict on symbol '"+v[e[t].lookahead[n]].label+"' in state "+r,s+="\n         Conflict resolved by "+(o<=0?"reducing with production":"shifting to state")+" "+(o<=0?-1*o:o),l&&g(s),o!=a&&Ce(w[r].actionrow,e[t].lookahead[n],o)}}function xe(e){var r,t,n;for(t=pe(0),n=Se("$",j,F),t.lookahead.push(n),(n=ye()).kernel.push(t);0<=(r=_e());)w[r].done=!0,Le(r);for(r=0;r<w.length;r++)Te(w[r].kernel,r),Te(w[r].epsilon,r);if(e){for(r=0;r<w.length;r++)le(c==q?B:$,"states["+r+"].kernel",w[r].kernel),le(c==q?B:$,"states["+r+"].epsilon",w[r].epsilon);x(w.length+" States created.")}}function Pe(e,r){var t,n;for(t=0;t<r.length;t++){for(n=0;n<e.length&&r[t]!=e[n];n++);n==e.length&&e.push(r[t])}return e}function Ie(e){var r;L=1,c=e,v=new Array,_=new Array,w=new Array,C=new Array,new Array,new Array,Se("",O,M),v[0].defined=!0,(r=new ee).lhs=0,r.rhs=new Array,r.code=new String("%% = %1;"),v[0].prods.push(_.length),_.push(r),m=-1,p=!(s=!(u=0)),h=R=k=b=y=0,S=new String,E=new String}function Ne(e,r,t){return!(!e&&r<0)&&(t?e[Math.floor(r/8)]|=1<<r%8:e[Math.floor(r/8)]&=255^1<<r%8,!0)}function Oe(e,r){return!e&&r<0?0:e[Math.floor(r/8)]&1<<r%8}function je(){var e;for(e=0;e<v.length;e++)v[e].kind==O&&0==v[e].defined&&I('Call to undefined non-terminal "'+v[e].label+'"')}function Me(){var e,r,t,n,a=new Array,o=new Array;for(e=0;e<v.length&&v[e].kind!=O;e++);if(e!=v.length){for(a.push(e),o.push(e);0<a.length;)for(e=a.pop(),r=0;r<v[e].prods.length;r++)for(t=0;t<_[v[e].prods[r]].rhs.length;t++)if(v[_[v[e].prods[r]].rhs[t]].kind==O){for(n=0;n<o.length&&o[n]!=_[v[e].prods[r]].rhs[t];n++);n==o.length&&(a.push(_[v[e].prods[r]].rhs[t]),o.push(_[v[e].prods[r]].rhs[t]))}for(e=0;e<v.length;e++)if(v[e].kind==O){for(r=0;r<o.length&&o[r]!=e;r++);r==o.length&&g('Unreachable non-terminal "'+v[e].label+'"')}}}function Fe(e){var r=new ae;return r.line=new Array(X),r.accept=-1,r.nfa_set=new Array,r.done=!1,r.group=-1,e.push(r),e.length-1}function Je(e,r){var t,n;for(t=0;t<e.length;t++)if(e[t].nfa_set.length==r.length){for(n=0;n<e[t].nfa_set.length&&e[t].nfa_set[n]==r[n];n++);if(n==e[t].nfa_set.length)return t}return-1}function We(e){for(var r=0;r<e.length;r++)if(!e[r].done)return r;return-1}function De(e,r,t){for(var n=new Array,a=-1;r[a=e.pop()].edge==Q&&Oe(r[a].ccl,t)&&n.push(r[a].follow),0<e.length;);return n}function Ge(e,r){for(var t=new Array,n=new Array,a=-1,o=0;o<e.length;o++)t.push(e[o]);do{if(0<=r[a=t.pop()].accept&&n.push(r[a].accept),r[a].edge==K){if(-1<r[a].follow){for(o=0;o<e.length&&e[o]!=r[a].follow;o++);o==e.length&&(e.push(r[a].follow),t.push(r[a].follow))}if(-1<r[a].follow2){for(o=0;o<e.length&&e[o]!=r[a].follow2;o++);o==e.length&&(e.push(r[a].follow2),t.push(r[a].follow2))}}}while(0<t.length);return n.sort()}function He(e){var r,t,n=new Array,a=new Array,o=Fe(n),l=-1;if(0==e.length)return n;for(a.push(0),Ge(a,e),n[o].nfa_set=n[o].nfa_set.concat(a);-1<(o=We(n));){n[o].done=!0,t=-1;for(var s=0;s<n[o].nfa_set.length;s++)(-1<e[n[o].nfa_set[s]].accept&&e[n[o].nfa_set[s]].weight<t||-1==t)&&(n[o].accept=e[n[o].nfa_set[s]].accept,t=e[n[o].nfa_set[s]].weight);for(s=V;s<X;s++)0<(r=De(r=(r=new Array).concat(n[o].nfa_set),e,s)).length&&Ge(r,e),0==r.length?l=-1:-1==(l=Je(n,r))&&(n[l=Fe(n)].nfa_set=r),n[o].line[s]=l}return n}function Ue(e){var r,t,n,a,o=new Array,l=(new Array,new Array),s=new Array,c=0,h=0;if(0==e.length)return s;for(o.push(new Array),t=0;t<e.length;t++)if(-1<e[t].accept){for(n=0;n<l.length&&l[n]!=e[t].accept;n++);n==l.length&&(l.push(e[t].accept),o.push(new Array)),o[n+1].push(t),e[t].group=n+1}else o[0].push(t),e[t].group=0;do{for(c=h,t=0;t<o.length;t++){if(r=new Array,0<o[t].length)for(n=1;n<o[t].length;n++)for(a=V;a<X;a++)if(e[o[t][0]].line[a]!=e[o[t][n]].line[a]&&(-1==e[o[t][0]].line[a]||-1==e[o[t][n]].line[a])||-1<e[o[t][0]].line[a]&&-1<e[o[t][n]].line[a]&&e[e[o[t][0]].line[a]].group!=e[e[o[t][n]].line[a]].group){e[o[t][n]].group=o.length,r=r.concat(o[t].splice(n,1)),n--;break}0<r.length&&(o[o.length]=new Array,o[o.length-1]=o[o.length-1].concat(r),h+=r.length)}}while(c!=h);for(t=0;t<e.length;t++)for(n=V;n<X;n++)-1<e[t].line[n]&&(e[t].line[n]=e[e[t].line[n]].group);for(t=0;t<o.length;t++)s.push(e[o[t][0]]);return s}var Be,Ye,$e,qe=!1,Ve=new String;function Xe(e){Ve+=e+"\n"}function ze(e){var r=0,t=-1,n=0,a=0,o=e.offset+1;do{if(r=0,t=-2,a=--o,e.src.length<=a)return 32;do{switch(r){case 0:r=9<=e.src.charCodeAt(o)&&e.src.charCodeAt(o)<=10||13==e.src.charCodeAt(o)||32==e.src.charCodeAt(o)?1:33==e.src.charCodeAt(o)?2:38==e.src.charCodeAt(o)?3:45==e.src.charCodeAt(o)||48<=e.src.charCodeAt(o)&&e.src.charCodeAt(o)<=57||65<=e.src.charCodeAt(o)&&e.src.charCodeAt(o)<=90||95==e.src.charCodeAt(o)||97<=e.src.charCodeAt(o)&&e.src.charCodeAt(o)<=122?4:58==e.src.charCodeAt(o)?5:59==e.src.charCodeAt(o)?6:60==e.src.charCodeAt(o)?7:62==e.src.charCodeAt(o)?8:94==e.src.charCodeAt(o)?9:124==e.src.charCodeAt(o)?10:34==e.src.charCodeAt(o)?15:35==e.src.charCodeAt(o)?18:39==e.src.charCodeAt(o)?19:47==e.src.charCodeAt(o)?20:91==e.src.charCodeAt(o)?21:-1;break;case 1:r=-1,t=1,n=o;break;case 2:r=-1,t=6,n=o;break;case 3:r=-1,t=10,n=o;break;case 4:r=45==e.src.charCodeAt(o)||48<=e.src.charCodeAt(o)&&e.src.charCodeAt(o)<=57||65<=e.src.charCodeAt(o)&&e.src.charCodeAt(o)<=90||95==e.src.charCodeAt(o)||97<=e.src.charCodeAt(o)&&e.src.charCodeAt(o)<=122?4:-1,t=14,n=o;break;case 5:r=-1,t=8,n=o;break;case 6:r=-1,t=7,n=o;break;case 7:r=-1,t=3,n=o;break;case 8:r=-1,t=4,n=o;break;case 9:r=-1,t=5,n=o;break;case 10:r=-1,t=9,n=o;break;case 11:r=-1,t=13,n=o;break;case 12:r=-1,t=2,n=o;break;case 13:r=-1,t=12,n=o;break;case 14:r=-1,t=11,n=o;break;case 15:r=34==e.src.charCodeAt(o)?11:0<=e.src.charCodeAt(o)&&e.src.charCodeAt(o)<=33||35<=e.src.charCodeAt(o)&&e.src.charCodeAt(o)<=91||93<=e.src.charCodeAt(o)&&e.src.charCodeAt(o)<=254?15:92==e.src.charCodeAt(o)?22:-1;break;case 16:r=34==e.src.charCodeAt(o)?11:0<=e.src.charCodeAt(o)&&e.src.charCodeAt(o)<=33||35<=e.src.charCodeAt(o)&&e.src.charCodeAt(o)<=91||93<=e.src.charCodeAt(o)&&e.src.charCodeAt(o)<=254?15:92==e.src.charCodeAt(o)?22:-1,t=13,n=o;break;case 17:r=39==e.src.charCodeAt(o)?13:0<=e.src.charCodeAt(o)&&e.src.charCodeAt(o)<=38||40<=e.src.charCodeAt(o)&&e.src.charCodeAt(o)<=91||93<=e.src.charCodeAt(o)&&e.src.charCodeAt(o)<=254?19:92==e.src.charCodeAt(o)?23:-1,t=12,n=o;break;case 18:r=35==e.src.charCodeAt(o)?12:-1;break;case 19:r=39==e.src.charCodeAt(o)?13:0<=e.src.charCodeAt(o)&&e.src.charCodeAt(o)<=38||40<=e.src.charCodeAt(o)&&e.src.charCodeAt(o)<=91||93<=e.src.charCodeAt(o)&&e.src.charCodeAt(o)<=254?19:92==e.src.charCodeAt(o)?23:-1;break;case 20:r=126==e.src.charCodeAt(o)?24:-1;break;case 21:r=42==e.src.charCodeAt(o)?32:-1;break;case 22:r=0<=e.src.charCodeAt(o)&&e.src.charCodeAt(o)<=33||35<=e.src.charCodeAt(o)&&e.src.charCodeAt(o)<=91||93<=e.src.charCodeAt(o)&&e.src.charCodeAt(o)<=254?15:34==e.src.charCodeAt(o)?16:92==e.src.charCodeAt(o)?22:-1;break;case 23:r=39==e.src.charCodeAt(o)?17:0<=e.src.charCodeAt(o)&&e.src.charCodeAt(o)<=38||40<=e.src.charCodeAt(o)&&e.src.charCodeAt(o)<=91||93<=e.src.charCodeAt(o)&&e.src.charCodeAt(o)<=254?19:92==e.src.charCodeAt(o)?23:-1;break;case 24:r=47==e.src.charCodeAt(o)?25:126==e.src.charCodeAt(o)?26:0<=e.src.charCodeAt(o)&&e.src.charCodeAt(o)<=46||48<=e.src.charCodeAt(o)&&e.src.charCodeAt(o)<=125||127<=e.src.charCodeAt(o)&&e.src.charCodeAt(o)<=254?33:-1;break;case 25:r=47==e.src.charCodeAt(o)?24:-1;break;case 26:r=47==e.src.charCodeAt(o)?1:0<=e.src.charCodeAt(o)&&e.src.charCodeAt(o)<=46||48<=e.src.charCodeAt(o)&&e.src.charCodeAt(o)<=254?24:-1;break;case 27:r=0<=e.src.charCodeAt(o)&&e.src.charCodeAt(o)<=41||43<=e.src.charCodeAt(o)&&e.src.charCodeAt(o)<=254?27:42==e.src.charCodeAt(o)?28:-1;break;case 28:r=93==e.src.charCodeAt(o)?14:0<=e.src.charCodeAt(o)&&e.src.charCodeAt(o)<=92||94<=e.src.charCodeAt(o)&&e.src.charCodeAt(o)<=254?31:-1;break;case 29:r=93==e.src.charCodeAt(o)?31:-1;break;case 30:r=126==e.src.charCodeAt(o)?26:47==e.src.charCodeAt(o)?30:0<=e.src.charCodeAt(o)&&e.src.charCodeAt(o)<=46||48<=e.src.charCodeAt(o)&&e.src.charCodeAt(o)<=125||127<=e.src.charCodeAt(o)&&e.src.charCodeAt(o)<=254?33:-1;break;case 31:case 32:r=0<=e.src.charCodeAt(o)&&e.src.charCodeAt(o)<=41||43<=e.src.charCodeAt(o)&&e.src.charCodeAt(o)<=92||94<=e.src.charCodeAt(o)&&e.src.charCodeAt(o)<=254?27:42==e.src.charCodeAt(o)?28:93==e.src.charCodeAt(o)?29:-1;break;case 33:r=126==e.src.charCodeAt(o)?26:47==e.src.charCodeAt(o)?30:0<=e.src.charCodeAt(o)&&e.src.charCodeAt(o)<=46||48<=e.src.charCodeAt(o)&&e.src.charCodeAt(o)<=125||127<=e.src.charCodeAt(o)&&e.src.charCodeAt(o)<=254?33:-1}o++}while(-1<r)}while(1==t);return-1<t?(e.att=e.src.substr(a,n-a),e.offset=n):(e.att=new String,t=-1),t}function Ke(e,r){var t=new Array,n=new Array,a=0;if(T=!0,0<(a+=function(e,r,t){var n,a,o,l,s=new Array,c=new Array,h=0,i=new new Function("","var offset; var src; var att;"),d=new Array(new Array(0,1),new Array(19,5),new Array(15,1),new Array(18,1),new Array(16,2),new Array(16,0),new Array(21,3),new Array(21,3),new Array(21,3),new Array(21,2),new Array(21,2),new Array(22,2),new Array(22,0),new Array(24,3),new Array(24,2),new Array(17,2),new Array(17,0),new Array(26,4),new Array(27,3),new Array(27,1),new Array(28,3),new Array(30,2),new Array(30,2),new Array(30,0),new Array(29,2),new Array(29,0),new Array(31,1),new Array(31,1),new Array(20,2),new Array(20,0),new Array(23,1),new Array(23,1),new Array(25,1)),f=new Array(new Array(3,-29,4,-29,5,-29,6,-29,7,-29,12,-29,13,-29,2,-29,11,-29),new Array(32,0),new Array(2,-5,3,-5,4,-5,5,-5,6,-5,7,-5,12,-5,13,-5),new Array(11,5,3,-2,4,-2,5,-2,6,-2,7,-2,12,-2,13,-2,2,-2),new Array(2,7,3,8,4,9,5,10,6,12,7,-12,12,-12,13,-12),new Array(3,-28,4,-28,5,-28,6,-28,7,-28,12,-28,13,-28,2,-28,11,-28,32,-28,9,-28),new Array(2,-4,3,-4,4,-4,5,-4,6,-4,7,-4,12,-4,13,-4),new Array(11,-16,32,-16,14,-16),new Array(7,-12,12,-12,13,-12),new Array(7,-12,12,-12,13,-12),new Array(7,-12,12,-12,13,-12),new Array(7,18,12,20,13,21),new Array(12,20,13,21),new Array(14,27,32,-29,11,-29),new Array(7,28,12,20,13,21),new Array(7,29,12,20,13,21),new Array(7,30,12,20,13,21),new Array(7,-11,12,-11,13,-11),new Array(2,-9,3,-9,4,-9,5,-9,6,-9,7,-9,12,-9,13,-9),new Array(14,27,7,-29,12,-29,13,-29,11,-29),new Array(14,-30,11,-30,7,-30,12,-30,13,-30,2,-30,3,-30,4,-30,5,-30,6,-30,10,-30,9,-30),new Array(14,-31,11,-31,7,-31,12,-31,13,-31,2,-31,3,-31,4,-31,5,-31,6,-31,10,-31,9,-31),new Array(2,-10,3,-10,4,-10,5,-10,6,-10,7,-10,12,-10,13,-10),new Array(11,-15,32,-15,14,-15),new Array(32,-1),new Array(11,5,32,-3),new Array(8,33),new Array(8,-32,11,-32,7,-32,12,-32,13,-32,10,-32,9,-32,14,-32),new Array(2,-6,3,-6,4,-6,5,-6,6,-6,7,-6,12,-6,13,-6),new Array(2,-7,3,-7,4,-7,5,-7,6,-7,7,-7,12,-7,13,-7),new Array(2,-8,3,-8,4,-8,5,-8,6,-8,7,-8,12,-8,13,-8),new Array(11,5,7,-14,12,-14,13,-14),new Array(7,-29,12,-29,13,-29,11,-29),new Array(10,-25,11,-25,7,-25,9,-25,14,-25,12,-25,13,-25),new Array(11,5,7,-13,12,-13,13,-13),new Array(9,38,7,39),new Array(7,-19,9,-19),new Array(10,42,14,27,12,20,13,21,11,-23,7,-23,9,-23),new Array(10,-25,11,-25,7,-25,9,-25,14,-25,12,-25,13,-25),new Array(11,-17,32,-17,14,-17),new Array(10,-24,11,-24,7,-24,9,-24,14,-24,12,-24,13,-24),new Array(7,-29,9,-29,11,-29),new Array(14,27,12,20,13,21),new Array(10,-26,11,-26,7,-26,9,-26,14,-26,12,-26,13,-26),new Array(10,-27,11,-27,7,-27,9,-27,14,-27,12,-27,13,-27),new Array(7,-18,9,-18),new Array(11,5,7,-20,9,-20),new Array(11,-22,7,-22,9,-22),new Array(11,-21,7,-21,9,-21)),g=new Array(new Array(19,1,15,2,20,3),new Array,new Array(16,4),new Array,new Array(21,6,22,11),new Array,new Array,new Array(17,13),new Array(22,14),new Array(22,15),new Array(22,16),new Array(24,17,23,19),new Array(23,22),new Array(26,23,18,24,20,25,25,26),new Array(24,17,23,19),new Array(24,17,23,19),new Array(24,17,23,19),new Array,new Array,new Array(20,31,25,32),new Array,new Array,new Array,new Array,new Array,new Array,new Array,new Array,new Array,new Array,new Array,new Array,new Array(20,34),new Array(27,35,28,36,29,37),new Array,new Array,new Array,new Array(31,40,30,41,25,43,23,44),new Array(28,45,29,37),new Array,new Array,new Array(20,46),new Array(23,47,25,48),new Array,new Array,new Array,new Array,new Array,new Array),A=new Array("def'","WHITESPACE","##","<",">","^","!",";",":","|","&","CODE","STRING_SINGLE","STRING_DOUBLE","IDENT","header_code","token_assocs","grammar_defs","footer_code","def","code","token_assoc","token_defs","string","token_def","identifier","grammar_def","productions","rhs","sequence","rhs_prec","symbol","$");for(i.offset=0,i.src=e,i.att=new String,r=r||new Array,t=t||new Array,s.push(0),c.push(0),o=ze(i);;){n=50;for(var w=0;w<f[s[s.length-1]].length;w+=2)if(f[s[s.length-1]][w]==o){n=f[s[s.length-1]][w+1];break}if(qe&&0<s.length&&Xe("\nState "+s[s.length-1]+"\n\tLookahead: "+A[o]+' ("'+i.att+'")\n\tAction: '+n+'\n\tSource: "'+i.src.substr(i.offset,30)+(i.offset+30<i.src.length?"...":"")+'"\n\tStack: '+s.join()+"\n\tValue stack: "+c.join()+"\n"),50==n){qe&&Xe("Error detected: There is no reduce or shift on the symbol "+A[o]),h++,r.push(i.offset-i.att.length),t.push(new Array);for(w=0;w<f[s[s.length-1]].length;w+=2)t[t.length-1].push(A[f[s[s.length-1]][w]]);var u=new Array,y=new Array;for(w=0;w<s.length;w++)u[w]=s[w],y[w]=c[w];for(;50==n&&32!=o;){for(qe&&Xe("\tError recovery\nCurrent lookahead: "+A[o]+" ("+i.att+")\nAction: "+n+"\n\n"),-1==o&&i.offset++;50==n&&0<s.length&&(s.pop(),c.pop(),0!=s.length);){n=50;for(w=0;w<f[s[s.length-1]].length;w+=2)if(f[s[s.length-1]][w]==o){n=f[s[s.length-1]][w+1];break}}if(50!=n)break;for(w=0;w<u.length;w++)s.push(u[w]),c.push(y[w]);o=ze(i)}if(50==n){qe&&Xe("\tError recovery failed, terminating parse process...");break}qe&&Xe("\tError recovery succeeded, continuing")}if(0<n)qe&&Xe("Shifting symbol: "+A[o]+" ("+i.att+")"),s.push(n),c.push(i.att),o=ze(i),qe&&Xe("\tNew lookahead symbol: "+A[o]+" ("+i.att+")");else{switch(n*=-1,qe&&Xe("Reducing by producution: "+n),l=void 0,qe&&Xe("\tPerforming semantic action..."),n){case 0:l=c[c.length-1];break;case 1:l=c[c.length-5];break;case 2:S+=c[c.length-1];break;case 3:E+=c[c.length-1];break;case 4:l=c[c.length-2];break;case 5:l=c[c.length-0];break;case 6:L++;for(w=0;w<c[c.length-2].length;w++)v[c[c.length-2][w]].level=L,v[c[c.length-2][w]].assoc=D;break;case 7:L++;for(w=0;w<c[c.length-2].length;w++)v[c[c.length-2][w]].level=L,v[c[c.length-2][w]].assoc=G;break;case 8:L++;for(w=0;w<c[c.length-2].length;w++)v[c[c.length-2][w]].level=L,v[c[c.length-2][w]].assoc=H;break;case 9:l=c[c.length-2];break;case 10:if(-1==m)nr(p=c[c.length-1].substr(1,c[c.length-1].length-2),m=Se("WHITESPACE",j,J),"'"!=c[c.length-1].charAt(0));else I("Multiple whitespace definition");break;case 11:c[c.length-2].push(c[c.length-1]),l=c[c.length-2];break;case 12:l=new Array;break;case 13:l=Se(c[c.length-2],j,M);var p=c[c.length-3].substr(1,c[c.length-3].length-2);v[l].code=c[c.length-1],nr(p,v[l].id,"'"!=c[c.length-3].charAt(0));break;case 14:l=Se((p=c[c.length-2].substr(1,c[c.length-2].length-2)).replace(/\\/g,""),j,M),v[l].code=c[c.length-1],nr(p,v[l].id,"'"!=c[c.length-2].charAt(0));break;case 15:l=c[c.length-2];break;case 16:l=c[c.length-0];break;case 17:var b=Se(c[c.length-4],O,M);v[b].defined=!0;for(w=0;w<c[c.length-2].length;w++)_[c[c.length-2][w]].lhs=b,v[b].prods.push(c[c.length-2][w]);T&&(T=!1,v[0].label=v[b].label+"'",_[0].rhs.push(b));break;case 18:(l=(l=new Array).concat(c[c.length-3])).push(c[c.length-1]);break;case 19:(l=new Array).push(c[c.length-1]);break;case 20:var C=new ee;if(C.id=_.length,C.rhs=c[c.length-3],C.level=c[c.length-2],C.code=c[c.length-1],""==C.code&&(C.code=new String(U)),0==C.level&&0<C.rhs.length)for(w=C.rhs.length-1;0<=w;w--)if(v[C.rhs[w]].kind==j){C.level=v[C.rhs[w]].level;break}_.push(C),l=C.id;break;case 21:-1<(k=me(c[c.length-1],j,M))?l=v[k].level:I('Call to undefined terminal "'+c[c.length-1]+'"');break;case 22:-1<(k=me(c[c.length-1].substr(1,c[c.length-1].length-2).replace(/\\/g,""),j,M))?l=v[k].level:I('Call to undefined terminal "'+c[c.length-1]+'"');break;case 23:l=0;break;case 24:(l=(l=new Array).concat(c[c.length-2])).push(c[c.length-1]);break;case 25:l=new Array;break;case 26:l=-1<(k=me(c[c.length-1],j,M))?k:Se(c[c.length-1],O,M);break;case 27:var k;-1<(k=me(c[c.length-1].substr(1,c[c.length-1].length-2).replace(/\\/g,""),j,M))?l=k:I('Call to undefined terminal "'+c[c.length-1]+'"');break;case 28:l=c[c.length-2]+c[c.length-1].substr(2,c[c.length-1].length-4);break;case 29:l=new String;break;case 30:case 31:case 32:l=c[c.length-1]}qe&&Xe("\tPopping "+d[n][1]+" off the stack...");for(w=0;w<d[n][1];w++)s.pop(),c.pop();a=-1;for(w=0;w<g[s[s.length-1]].length;w+=2)if(g[s[s.length-1]][w]==d[n][0]){a=g[s[s.length-1]][w+1];break}if(0==n)break;qe&&Xe("\tPushing non-terminal "+A[d[n][0]]),s.push(a),c.push(l)}qe&&(P(Ve),Ve=new String)}return qe&&(Xe("\nParse complete."),P(Ve)),h}(e,t,n)))for(i=0;i<a;i++)I(r+", line "+(e.substr(0,t[i]).match(/\n/g)?e.substr(0,t[i]).match(/\n/g).length:1)+': Parse error near "'+e.substr(t[i],30)+(t[i]+30<e.substr(t[i]).length?"...":"")+'", expecting "'+n[i].join()+'"')}function Qe(e){var r,t;for(t=0;t<e.length&&e[t].edge!=z;t++);return t==e.length&&(r=new ne,e.push(r)),e[t].edge=K,e[t].ccl=function(e){return e<=0?new Array:new Array(Math.ceil(e/8))}(X),e[t].accept=-1,e[t].follow=-1,e[t].follow2=-1,e[t].weight=-1,$e.push(t),t}var Ze=!1,er=new String;function rr(e){er+=e+"\n"}function tr(e){var r=0,t=-1,n=0,a=0,o=e.offset+1;if(r=0,t=-2,a=--o,e.src.length<=a)return 21;do{switch(r){case 0:r=0<=e.src.charCodeAt(o)&&e.src.charCodeAt(o)<=39||44<=e.src.charCodeAt(o)&&e.src.charCodeAt(o)<=45||47<=e.src.charCodeAt(o)&&e.src.charCodeAt(o)<=62||64<=e.src.charCodeAt(o)&&e.src.charCodeAt(o)<=90||94<=e.src.charCodeAt(o)&&e.src.charCodeAt(o)<=123||125<=e.src.charCodeAt(o)&&e.src.charCodeAt(o)<=254?1:40==e.src.charCodeAt(o)?2:41==e.src.charCodeAt(o)?3:42==e.src.charCodeAt(o)?4:43==e.src.charCodeAt(o)?5:46==e.src.charCodeAt(o)?6:63==e.src.charCodeAt(o)?7:91==e.src.charCodeAt(o)?8:93==e.src.charCodeAt(o)?9:124==e.src.charCodeAt(o)?10:92==e.src.charCodeAt(o)?13:-1;break;case 1:r=-1,t=12,n=o;break;case 2:r=-1,t=5,n=o;break;case 3:r=-1,t=6,n=o;break;case 4:r=-1,t=2,n=o;break;case 5:r=-1,t=3,n=o;break;case 6:r=-1,t=9,n=o;break;case 7:r=-1,t=4,n=o;break;case 8:r=-1,t=7,n=o;break;case 9:r=-1,t=8,n=o;break;case 10:r=-1,t=1,n=o;break;case 11:r=-1,t=11,n=o;break;case 12:r=48<=e.src.charCodeAt(o)&&e.src.charCodeAt(o)<=57?12:-1,t=10,n=o;break;case 13:r=0<=e.src.charCodeAt(o)&&e.src.charCodeAt(o)<=47||58<=e.src.charCodeAt(o)&&e.src.charCodeAt(o)<=254?11:48<=e.src.charCodeAt(o)&&e.src.charCodeAt(o)<=57?12:-1,t=12,n=o}o++}while(-1<r);return-1<t?(e.att=e.src.substr(a,n-a),e.offset=n):(e.att=new String,t=-1),t}function nr(e,r,t){var n,a,o,l=new Array,s=new Array;if(""!=e)if($e=new Array,Be=Qe(C),0==(o=function(e,r,t){var n,a,o,l,s=new Array,c=new Array,h=0,i=new new Function("","var offset; var src; var att;"),d=new Array(new Array(0,1),new Array(14,1),new Array(13,3),new Array(13,1),new Array(15,2),new Array(15,1),new Array(16,2),new Array(16,2),new Array(16,2),new Array(16,1),new Array(17,1),new Array(17,1),new Array(17,3),new Array(19,3),new Array(19,1),new Array(20,2),new Array(20,0),new Array(18,1),new Array(18,1),new Array(18,1)),f=new Array(new Array(5,8,10,9,11,10,12,11,7,12,9,13),new Array(21,0),new Array(1,14,21,-1),new Array(5,8,10,9,11,10,12,11,7,12,9,13,21,-3,1,-3,6,-3),new Array(21,-5,1,-5,5,-5,10,-5,11,-5,12,-5,7,-5,9,-5,6,-5),new Array(4,16,3,17,2,18,21,-9,1,-9,5,-9,10,-9,11,-9,12,-9,7,-9,9,-9,6,-9),new Array(2,-10,3,-10,4,-10,21,-10,1,-10,5,-10,10,-10,11,-10,12,-10,7,-10,9,-10,6,-10),new Array(2,-11,3,-11,4,-11,21,-11,1,-11,5,-11,10,-11,11,-11,12,-11,7,-11,9,-11,6,-11),new Array(5,8,10,9,11,10,12,11,7,12,9,13),new Array(2,-17,3,-17,4,-17,21,-17,1,-17,5,-17,10,-17,11,-17,12,-17,7,-17,9,-17,6,-17,8,-17),new Array(2,-18,3,-18,4,-18,21,-18,1,-18,5,-18,10,-18,11,-18,12,-18,7,-18,9,-18,6,-18,8,-18),new Array(2,-19,3,-19,4,-19,21,-19,1,-19,5,-19,10,-19,11,-19,12,-19,7,-19,9,-19,6,-19,8,-19),new Array(8,-16,10,-16,11,-16,12,-16),new Array(2,-14,3,-14,4,-14,21,-14,1,-14,5,-14,10,-14,11,-14,12,-14,7,-14,9,-14,6,-14),new Array(5,8,10,9,11,10,12,11,7,12,9,13),new Array(21,-4,1,-4,5,-4,10,-4,11,-4,12,-4,7,-4,9,-4,6,-4),new Array(21,-8,1,-8,5,-8,10,-8,11,-8,12,-8,7,-8,9,-8,6,-8),new Array(21,-7,1,-7,5,-7,10,-7,11,-7,12,-7,7,-7,9,-7,6,-7),new Array(21,-6,1,-6,5,-6,10,-6,11,-6,12,-6,7,-6,9,-6,6,-6),new Array(1,14,6,22),new Array(8,24,10,9,11,10,12,11),new Array(5,8,10,9,11,10,12,11,7,12,9,13,21,-2,1,-2,6,-2),new Array(2,-12,3,-12,4,-12,21,-12,1,-12,5,-12,10,-12,11,-12,12,-12,7,-12,9,-12,6,-12),new Array(8,-15,10,-15,11,-15,12,-15),new Array(2,-13,3,-13,4,-13,21,-13,1,-13,5,-13,10,-13,11,-13,12,-13,7,-13,9,-13,6,-13)),g=new Array(new Array(14,1,13,2,15,3,16,4,17,5,18,6,19,7),new Array,new Array,new Array(16,15,17,5,18,6,19,7),new Array,new Array,new Array,new Array,new Array(13,19,15,3,16,4,17,5,18,6,19,7),new Array,new Array,new Array,new Array(20,20),new Array,new Array(15,21,16,4,17,5,18,6,19,7),new Array,new Array,new Array,new Array,new Array,new Array(18,23),new Array(16,15,17,5,18,6,19,7),new Array,new Array,new Array),A=new Array("RegEx'","|","*","+","?","(",")","[","]","ANY_CHAR","ASCII_CODE","ESCAPED_CHAR","ANY","Expression","RegEx","Catenation","Factor","Term","Character","CharacterSet","CharClass","$");for(i.offset=0,i.src=e,i.att=new String,r=r||new Array,t=t||new Array,s.push(0),c.push(0),o=tr(i);;){n=26;for(var w=0;w<f[s[s.length-1]].length;w+=2)if(f[s[s.length-1]][w]==o){n=f[s[s.length-1]][w+1];break}if(Ze&&0<s.length&&rr("\nState "+s[s.length-1]+"\n\tLookahead: "+A[o]+' ("'+i.att+'")\n\tAction: '+n+'\n\tSource: "'+i.src.substr(i.offset,30)+(i.offset+30<i.src.length?"...":"")+'"\n\tStack: '+s.join()+"\n\tValue stack: "+c.join()+"\n"),26==n){Ze&&rr("Error detected: There is no reduce or shift on the symbol "+A[o]),h++,r.push(i.offset-i.att.length),t.push(new Array);for(w=0;w<f[s[s.length-1]].length;w+=2)t[t.length-1].push(A[f[s[s.length-1]][w]]);var u=new Array,y=new Array;for(w=0;w<s.length;w++)u[w]=s[w],y[w]=c[w];for(;26==n&&21!=o;){for(Ze&&rr("\tError recovery\nCurrent lookahead: "+A[o]+" ("+i.att+")\nAction: "+n+"\n\n"),-1==o&&i.offset++;26==n&&0<s.length&&(s.pop(),c.pop(),0!=s.length);){n=26;for(w=0;w<f[s[s.length-1]].length;w+=2)if(f[s[s.length-1]][w]==o){n=f[s[s.length-1]][w+1];break}}if(26!=n)break;for(w=0;w<u.length;w++)s.push(u[w]),c.push(y[w]);o=tr(i)}if(26==n){Ze&&rr("\tError recovery failed, terminating parse process...");break}Ze&&rr("\tError recovery succeeded, continuing")}if(0<n)Ze&&rr("Shifting symbol: "+A[o]+" ("+i.att+")"),s.push(n),c.push(i.att),o=tr(i),Ze&&rr("\tNew lookahead symbol: "+A[o]+" ("+i.att+")");else{switch(n*=-1,Ze&&rr("Reducing by producution: "+n),l=void 0,Ze&&rr("\tPerforming semantic action..."),n){case 0:l=c[c.length-1];break;case 1:l=new oe,C[Be].follow=c[c.length-1].start,Ye=c[c.length-1].end;break;case 2:(l=new oe).start=Qe(C),l.end=Qe(C),C[l.start].follow=c[c.length-3].start,C[l.start].follow2=c[c.length-1].start,C[c[c.length-3].end].follow=l.end,C[c[c.length-1].end].follow=l.end;break;case 3:l=c[c.length-1];break;case 4:C[c[c.length-2].end].edge=C[c[c.length-1].start].edge,C[c[c.length-2].end].ccl=C[c[c.length-1].start].ccl,C[c[c.length-2].end].follow=C[c[c.length-1].start].follow,C[c[c.length-2].end].follow2=C[c[c.length-1].start].follow2,C[c[c.length-2].end].accept=C[c[c.length-1].start].accept,C[c[c.length-1].start].edge=z,c[c.length-2].end=c[c.length-1].end,l=c[c.length-2];break;case 5:l=c[c.length-1];break;case 6:(l=new oe).start=Qe(C),l.end=Qe(C),C[l.start].follow=c[c.length-2].start,C[c[c.length-2].end].follow=l.end,C[l.start].follow2=l.end,C[c[c.length-2].end].follow2=c[c.length-2].start;break;case 7:(l=new oe).start=Qe(C),l.end=Qe(C),C[l.start].follow=c[c.length-2].start,C[c[c.length-2].end].follow=l.end,C[c[c.length-2].end].follow2=c[c.length-2].start;break;case 8:(l=new oe).start=Qe(C),l.end=Qe(C),C[l.start].follow=c[c.length-2].start,C[l.start].follow2=l.end,C[c[c.length-2].end].follow=l.end;break;case 9:l=c[c.length-1];break;case 10:(l=new oe).start=Qe(C),l.end=C[l.start].follow=Qe(C),C[l.start].edge=Q,Ne(C[l.start].ccl,c[c.length-1].charCodeAt(0),1);break;case 11:l=c[c.length-1];break;case 12:l=c[c.length-2];break;case 13:var p=!1;w=0;if((l=new oe).start=Qe(C),l.end=C[l.start].follow=Qe(C),C[l.start].edge=Q,"^"==c[c.length-2].charAt(w)){p=!0;for(var b=V;b<X;b++)Ne(C[l.start].ccl,b,1);w++}for(;w<c[c.length-2].length;w++)if("-"==c[c.length-2].charAt(w+1)&&w+2<c[c.length-2].length)for(w++,b=c[c.length-2].charCodeAt(w-1);b<c[c.length-2].charCodeAt(w+1);b++)Ne(C[l.start].ccl,b,p?0:1);else Ne(C[l.start].ccl,c[c.length-2].charCodeAt(w),p?0:1);break;case 14:(l=new oe).start=Qe(C),l.end=C[l.start].follow=Qe(C),C[l.start].edge=Q;for(w=V;w<X;w++)Ne(C[l.start].ccl,w,1);break;case 15:l=new String(c[c.length-2]+c[c.length-1]);break;case 16:l=new String;break;case 17:l=String.fromCharCode(c[c.length-1].substr(1));break;case 18:switch(c[c.length-1].substr(1)){case"n":l="\n";break;case"r":l="\r";break;case"t":l="\t";break;case"a":l="a";break;default:l=c[c.length-1].substr(1)}break;case 19:l=c[c.length-1]}Ze&&rr("\tPopping "+d[n][1]+" off the stack...");for(w=0;w<d[n][1];w++)s.pop(),c.pop();a=-1;for(w=0;w<g[s[s.length-1]].length;w+=2)if(g[s[s.length-1]][w]==d[n][0]){a=g[s[s.length-1]][w+1];break}if(0==n)break;Ze&&rr("\tPushing non-terminal "+A[d[n][0]]),s.push(a),c.push(l)}Ze&&(P(er),er=new String)}return Ze&&(rr("\nParse complete."),P(er)),h}(e,l,s))){if(t)for(n=0;n<$e.length;n++)if(C[$e[n]].edge==Q)for(a=V;a<X;a++)Oe(C[$e[n]].ccl,a)&&(Ne(C[$e[n]].ccl,String.fromCharCode(a).toUpperCase().charCodeAt(0),1),Ne(C[$e[n]].ccl,String.fromCharCode(a).toLowerCase().charCodeAt(0),1));if(C[Ye].accept=r,C[Ye].weight=h++,0<Be){for(n=0;-1!=C[n].follow2;)n=C[n].follow2;C[n].follow2=Be}}else for(n=0;n<o;n++){var c=new String;for(a=0;a<l[n];a++)c+=" ";I('Regular expression "'+e+'"\n                           '+c+'^\n       expecting "'+s[n].join()+'"')}}function ar(){var e=new String;e+="usage: jscc [options] filename\n\n",e+="       -h   --help               Print this usage help\n",e+="       -i   --version            Print version and copyright\n",e+="       -o   --output <file>      Save output source to <file>\n",e+="       -p   --prefix <prefix>    Use <prefix> as sequence pre-\n",e+="                                 fixing methods and variables\n",e+="       -t   --template <file>    Use template file <file> as\n",e+="                                 parser template\n",e+="       -v   --verbose            Run in verbose mode\n",x(e+="       -w   --warnings           Print warnings\n")}return{reset_all:Ie,EXEC_WEB:1,MODE_GEN_JS:Y,parse_grammar:Ke,undef:je,unreachable:Me,first:se,print_symbols:function(e){e==$?(x('<table class="debug" cellpadding="0" cellspacing="0">'),x("<tr>"),x('<td class="tabtitle" colspan="3">Symbols Overview</td>'),x("</tr>"),x("<tr>"),x('<td class="coltitle">Symbol</td>'),x('<td class="coltitle">Type</td>'),x("</tr>")):e==B&&x("--- Symbol Dump ---");for(var r=0;r<v.length;r++)if(e==$)x("<tr>"),x("<td>"),x(v[r].label),x("</td>"),x("<td>"),x(v[r].kind==O?"Non-terminal":"Terminal"),x("</td>");else if(e==B){for(var t=new String,n=(t=v[r].label).length;n<20;n++)t+=" ";if(t+=v[r].kind==O?"Non-terminal":"Terminal",v[r].kind==j){for(n=t.length;n<40;n++)t+=" ";switch(t+=v[r].level+"/",v[r].assoc){case W:t+="^";break;case D:t+="<";break;case G:t+=">"}}x(t)}e==$?x("</table>"):e==B&&x("")},create_subset:He,get_nfa_states:function(){return C},get_dfa_table:function(){return dfa_table},set_dfa_table:function(e){return dfa_table=e},minimize_dfa:Ue,lalr1_parse_table:xe,getErrors:function(){return u},getWarnings:function(){return y},resetErrors:function(){u=0,r=[]},resetWarnings:function(){y=0,t=[]},get_code_head:function(){return S},print_parse_tables:he,print_dfa_table:ie,print_term_actions:fe,print_symbol_labels:de,print_actions:ge,get_error_symbol_id:we,get_eof_symbol_id:Ae,get_whitespace_symbol_id:ue,getErrorMessages:function(){return r},getWarningMessages:function(){return t},cli:function(e){Ie(q);for(var r,t,n=new String,a=new String,o="",l=new String,s=!1,c=!1,h=!1,i=e||process.argv,d=0;d<i.length;d++)if("-o"==i[d].toLowerCase()||"--output"==i[d].toLowerCase())n=i[++d];else if("-t"==i[d].toLowerCase()||"--template"==i[d].toLowerCase())o=i[++d];else if("-p"==i[d].toLowerCase()||"--prefix"==i[d].toLowerCase())l=i[++d];else if("-w"==i[d].toLowerCase()||"--warnings"==i[d].toLowerCase())p=!0;else if("-v"==i[d].toLowerCase()||"--verbose"==i[d].toLowerCase())h=!0;else if("-d"==i[d].toLowerCase()||"--debug"==i[d].toLowerCase()){for(var f=0;f<i[d+1].length;f++)switch(i[d+1].charAt(f)){case"n":s=!0;break;case"d":c=!0}d++}else"-i"==i[d].toLowerCase()||"--version"==i[d].toLowerCase()?(t=void 0,t=new String,t+="JS/CC v"+N+": A LALR(1) Parser and Lexer Generator written in JavaScript\n",t+="Copyright (C) 2007, 2008 by J.M.K S.F. Software Technologies,Jan Max Meyer\n",t+="http://jscc.jmksf.com ++ jscc@jmksf.com\n\n",t+="You may use, modify and distribute this software under the terms and conditions\n",x(t+="of the Artistic License. Please see ARTISTIC for more information.\n"),A(0)):"-h"==i[d].toLowerCase()||"--help"==i[d].toLowerCase()?(ar(),A(0)):""==a&&(a=i[d]);if(""!=a){if(Ke(read_file(a),a),0==u&&(je(),Me(),0==u&&(se(),xe(!1),function(){var e;for(e=0;e<w.length;e++)0==w[e].actionrow.length&&I("No lookaheads in state "+e+", watch for endless list definitions")}(),0==u))){s&&function(e){x("Pos\tType\t\tfollow\t\tfollow2\t\taccept"),x("-------------------------------------------------------------------");for(var r=0;r<e.length;r++)if(x(r+"\t"+(C[r].edge==z?"FREE":C[r].edge==K?"EPSILON":"CHAR")+"\t\t"+(C[r].edge!=z&&-1<C[r].follow?C[r].follow:"")+"\t\t"+(C[r].edge!=z&&-1<C[r].follow2?C[r].follow2:"")+"\t\t"+(C[r].edge!=z&&-1<C[r].accept?C[r].accept:"")),C[r].edge==Q){for(var t=new String,n=V;n<X;n++)Oe(C[r].ccl,n)&&10==(t+=String.fromCharCode(n)).length&&(x("\t"+t),t="");0<t.length&&x("\t"+t)}x("")}(C),r=Ue(r=He(C)),c&&function(e){for(var r=new String,t=0,n=0;n<e.length;n++){r=n+" => (";for(var a=t=0;a<e[n].line.length;a++)-1<e[n].line[a]&&(r+=" >"+String.fromCharCode(a)+"<,"+e[n].line[a]+" ",++t%5==0&&(r+="\n      "));r+=") "+e[n].accept,x(r)}}(r);var g=read_file(o);g=(g=(g=(g=(g=(g=(g=(g=(g=(g=(g=g.replace(/##HEADER##/gi,S)).replace(/##TABLES##/gi,he(Y))).replace(/##DFA##/gi,ie(r))).replace(/##TERMINAL_ACTIONS##/gi,fe())).replace(/##LABELS##/gi,de())).replace(/##ACTIONS##/gi,ge())).replace(/##FOOTER##/gi,E)).replace(/##PREFIX##/gi,l)).replace(/##ERROR##/gi,we())).replace(/##EOF##/gi,Ae())).replace(/##WHITESPACE##/gi,ue()),""!=n?write_file(n,g):x(g),h&&x('"'+a+'" produced '+w.length+" states ("+b+" shifts, "+k+" reductions, "+R+" gotos)")}h&&x(y+" warning"+(1<y?"s":"")+", "+u+" error"+(1<u?"s":""))}else ar();A(u)},set_debug:function(e,r,t){s=e,p=r,qe=t},set_printError:function(e){d=e||n},set_printWarning:function(e){f=e||a},set_printInfo:function(e){x=e||o},get_printError:function(){return d},get_printWarning:function(){return f},get_printInfo:function(){return x},is_printError_default:function(){return d===n},is_printWarning_default:function(){return f===a},is_printInfo_default:function(){return x===o},set_alert:function(e){P=e||l},get_alert:function(){return P},is_alert_default:function(){return P===l}}});
//# sourceMappingURL=jscc-umd.min.js.map